(function(){"use strict";var t={4984:function(t,s,a){var i=a(8935),e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"contain"},[a("top"),a("index")],1)},n=[],l=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"top-container"},[t._m(0),a("div",{staticClass:"right-box"},[a("div",{staticClass:"el-input el-input--small el-input--prefix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"el-input__inner",attrs:{type:"text",autocomplete:"off",placeholder:"搜索"},domProps:{value:t.inputValue},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.toResult.apply(null,arguments)},input:function(s){s.target.composing||(t.inputValue=s.target.value)}}}),t._m(1)])])])},c=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"left-box"},[a("div",{staticClass:"icon-wrapper"},[a("span",{staticClass:"iconfont icon-home"}),a("span",{staticClass:"iconfont icon-sami-select"}),a("span",{staticClass:"iconfont icon-full-screen"})]),a("div",{staticClass:"history-wrapper"},[a("span",{staticClass:"iconfont icon-arrow-lift"}),a("span",{staticClass:"iconfont icon-arrow-right"})])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("span",{staticClass:"el-input__prefix"},[a("i",{staticClass:"el-input__icon el-icon-search"})])}],r={name:"top",data(){return{inputValue:""}},methods:{toResult(){""==this.inputValue?this.$message.warning("请输入内容"):this.$router.push("/result?q="+this.inputValue)}}},o=r,u=a(1001),m=(0,u.Z)(o,l,c,!1,null,"6042f2a8",null),p=m.exports,v=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"index-container"},[a("div",{staticClass:"nav"},[a("ul",[a("li",[a("router-link",{attrs:{to:"/discovery"}},[a("span",{staticClass:"iconfont icon-find-music"}),t._v(" 发现音乐 ")])],1),a("li",[a("router-link",{attrs:{to:"/playlists"}},[a("span",{staticClass:"iconfont icon-music-list"}),t._v(" 推荐歌单 ")])],1),a("li",[a("router-link",{attrs:{to:"/songs"}},[a("span",{staticClass:"iconfont icon-music"}),t._v(" 最新音乐 ")])],1),a("li",[a("router-link",{attrs:{to:"/mvs"}},[a("span",{staticClass:"iconfont icon-mv"}),t._v(" 最新MV ")])],1)])]),a("div",{staticClass:"main"},[a("router-view")],1),a("div",{staticClass:"player"},[a("audio",{attrs:{src:t.musicUrl,controls:"",autoplay:""}})])])},d=[],h={name:"index",data(){return{musicUrl:""}}},C=h,_=(0,u.Z)(C,v,d,!1,null,null,null),g=_.exports,f={name:"App",components:{top:p,index:g}},y=f,b=(0,u.Z)(y,e,n,!1,null,null,null),w=b.exports,k=a(4549),x=a.n(k),$=a(2809),I=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"discovery-container"},[a("el-carousel",{attrs:{interval:4e3,type:"card"}},t._l(t.banners,(function(t,s){return a("el-carousel-item",{key:s},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imageUrl,expression:"item.imageUrl"}],attrs:{alt:""}})])})),1),a("div",{staticClass:"recommend"},[a("h3",{staticClass:"title"},[t._v("推荐歌单")]),a("div",{staticClass:"items"},t._l(t.list,(function(s,i){return a("div",{key:i,staticClass:"item"},[a("div",{staticClass:"img-wrap"},[a("div",{staticClass:"desc-wrap"},[a("span",{staticClass:"desc"},[t._v(t._s(s.copywriter))])]),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.picUrl,expression:"item.picUrl"}],attrs:{alt:""}}),a("span",{staticClass:"iconfont icon-play",on:{click:function(a){return t.toPlaylist(s.id)}}})]),a("p",{staticClass:"name"},[t._v(t._s(s.name))])])})),0)]),a("div",{staticClass:"news"},[a("h3",{staticClass:"title"},[t._v("最新音乐")]),a("div",{staticClass:"items"},t._l(t.songs,(function(s,i){return a("div",{key:i,staticClass:"item"},[a("div",{staticClass:"img-wrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.picUrl,expression:"item.picUrl"}],attrs:{alt:""}}),a("span",{staticClass:"iconfont icon-play",on:{click:function(a){return t.playMusic(s.id)}}})]),a("div",{staticClass:"song-wrap"},[a("div",{staticClass:"song-name"},[t._v(t._s(s.name))]),a("div",{staticClass:"singer"},[t._v(t._s(s.song.artists[0].name))])])])})),0)]),a("div",{staticClass:"mvs"},[a("h3",{staticClass:"title"},[t._v("推荐MV")]),a("div",{staticClass:"items"},t._l(t.mvs,(function(s,i){return a("div",{key:i,staticClass:"item"},[a("div",{staticClass:"img-wrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.picUrl,expression:"item.picUrl"}],attrs:{alt:""}}),a("span",{staticClass:"iconfont icon-play"}),a("div",{staticClass:"num-wrap"},[a("div",{staticClass:"iconfont icon-play"}),a("div",{staticClass:"num"},[t._v(t._s(s.playCount))])])]),a("div",{staticClass:"info-wrap"},[a("div",{staticClass:"name"},[t._v(t._s(s.name))]),a("div",{staticClass:"singer"},[t._v(t._s(s.artistName))])])])})),0)])],1)},q=[],L=a(6166),U=a.n(L),z={name:"discovery",data(){return{banners:[],list:[],songs:[],mvs:[]}},created(){U()({url:"https://autumnfish.cn/banner",method:"get"}).then((t=>{this.banners=t.data.banners})),U()({url:"https://autumnfish.cn/personalized",method:"get",params:{limit:10}}).then((t=>{this.list=t.data.result})),U()({url:"https://autumnfish.cn/personalized/newsong",method:"get",params:{}}).then((t=>{this.songs=t.data.result})),U()({url:"https://autumnfish.cn/personalized/mv",method:"get",params:{}}).then((t=>{console.log(t),this.mvs=t.data.result}))},methods:{playMusic(t){U()({url:"https://autumnfish.cn/song/url",method:"get",params:{id:t}}).then((t=>{console.log(t);let s=t.data.data[0].url;this.$parent.musicUrl=s}))},toPlaylist(t){this.$router.push(`/playlist?q=${t}`)}}},M=z,D=(0,u.Z)(M,I,q,!1,null,null,null),P=D.exports,E=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"playlists-container"},[a("div",{staticClass:"top-card"},[a("div",{staticClass:"icon-wrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.topList.coverImgUrl,expression:"topList.coverImgUrl"}],attrs:{alt:""}})]),a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"tag"},[t._v("精品歌单")]),a("div",{staticClass:"title"},[t._v(" "+t._s(t.topList.name)+" ")]),a("div",{staticClass:"info"},[t._v(" "+t._s(t.topList.description)+" ")])]),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.topList.coverImgUrl,expression:"topList.coverImgUrl"}],staticClass:"bg",attrs:{alt:""}}),a("div",{staticClass:"bg-mask"})]),a("div",{staticClass:"tab-container"},[a("div",{staticClass:"tab-bar"},[a("span",{staticClass:"item",class:{active:"全部"==t.tag},on:{click:function(s){t.tag="全部"}}},[t._v("全部")]),a("span",{staticClass:"item",class:{active:"欧美"==t.tag},on:{click:function(s){t.tag="欧美"}}},[t._v("欧美")]),a("span",{staticClass:"item",class:{active:"华语"==t.tag},on:{click:function(s){t.tag="华语"}}},[t._v("华语")]),a("span",{staticClass:"item",class:{active:"流行"==t.tag},on:{click:function(s){t.tag="流行"}}},[t._v("流行")]),a("span",{staticClass:"item",class:{active:"说唱"==t.tag},on:{click:function(s){t.tag="说唱"}}},[t._v("说唱")]),a("span",{staticClass:"item",class:{active:"摇滚"==t.tag},on:{click:function(s){t.tag="摇滚"}}},[t._v("摇滚")]),a("span",{staticClass:"item",class:{active:"民谣"==t.tag},on:{click:function(s){t.tag="民谣"}}},[t._v("民谣")]),a("span",{staticClass:"item",class:{active:"电子"==t.tag},on:{click:function(s){t.tag="电子"}}},[t._v("电子")]),a("span",{staticClass:"item",class:{active:"轻音乐"==t.tag},on:{click:function(s){t.tag="轻音乐"}}},[t._v("轻音乐")]),a("span",{staticClass:"item",class:{active:"影视原声"==t.tag},on:{click:function(s){t.tag="影视原声"}}},[t._v("影视原声")]),a("span",{staticClass:"item",class:{active:"ACG"==t.tag},on:{click:function(s){t.tag="ACG"}}},[t._v("ACG")]),a("span",{staticClass:"item",class:{active:"怀旧"==t.tag},on:{click:function(s){t.tag="怀旧"}}},[t._v("怀旧")]),a("span",{staticClass:"item",class:{active:"治愈"==t.tag},on:{click:function(s){t.tag="治愈"}}},[t._v("治愈")]),a("span",{staticClass:"item",class:{active:"旅行"==t.tag},on:{click:function(s){t.tag="旅行"}}},[t._v("旅行")])]),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"items"},t._l(t.list,(function(s,i){return a("div",{key:i,staticClass:"item"},[a("div",{staticClass:"img-wrap",on:{click:function(a){return t.toPlaylist(s.id)}}},[a("div",{staticClass:"num-wrap"},[t._v(" 播放量: "),a("span",{staticClass:"num"},[t._v(t._s(t._f("fmt")(s.playCount)))])]),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.coverImgUrl,expression:"item.coverImgUrl"}],attrs:{alt:""}}),a("span",{staticClass:"iconfont icon-play"})]),a("p",{staticClass:"name"},[t._v(t._s(s.name))])])})),0)])]),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":20},on:{"current-change":t.handleCurrentChange}})],1)},N=[],T={name:"recommend",data(){return{total:0,page:1,topList:{},list:[],tag:"全部"}},watch:{tag(){this.topData(),this.listData(),this.page=1}},filters:{fmt(t){return t>1e4?parseInt(t/1e4)+"万":t}},created(){this.topData(),this.listData()},methods:{topData(){U()({url:"https://autumnfish.cn/top/playlist/highquality",method:"get",params:{limit:1,cat:this.tag}}).then((t=>{this.total=t.data.total,this.topList=t.data.playlists[0]}))},toPlaylist(t){this.$router.push(`/playlist?q=${t}`)},listData(){U()({url:"https://autumnfish.cn/top/playlist/",method:"get",params:{limit:10,offset:10*(this.page-1),cat:this.tag}}).then((t=>{this.list=t.data.playlists}))},handleCurrentChange(t){console.log(`当前页: ${t}`),this.page=t,this.listData()}}},O=T,R=(0,u.Z)(O,E,N,!1,null,null,null),V=R.exports,Z=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"songs-container"},[a("div",{staticClass:"tab-bar"},[a("span",{staticClass:"item",class:{active:0==t.tag},on:{click:function(s){t.tag=0}}},[t._v("全部")]),a("span",{staticClass:"item",class:{active:7==t.tag},on:{click:function(s){t.tag=7}}},[t._v("华语")]),a("span",{staticClass:"item",class:{active:96==t.tag},on:{click:function(s){t.tag=96}}},[t._v("欧美")]),a("span",{staticClass:"item",class:{active:8==t.tag},on:{click:function(s){t.tag=8}}},[t._v("日本")]),a("span",{staticClass:"item",class:{active:16==t.tag},on:{click:function(s){t.tag=16}}},[t._v("韩国")])]),a("table",{staticClass:"el-table playlit-table"},[t._m(0),a("tbody",t._l(t.lists,(function(s,i){return a("tr",{key:i,staticClass:"el-table__row"},[a("td",[t._v(t._s(i+1))]),a("td",[a("div",{staticClass:"img-wrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.album.picUrl,expression:"item.album.picUrl"}],attrs:{alt:""}}),a("span",{staticClass:"iconfont icon-play",on:{click:function(a){return t.playMusic(s.id)}}})])]),a("td",[a("div",{staticClass:"song-wrap"},[a("div",{staticClass:"name-wrap"},[a("span",[t._v(t._s(s.name))]),a("span",{staticClass:"iconfont icon-mv"})]),a("span",[t._v("电视剧加油练习生插曲")])])]),a("td",[t._v(t._s(s.album.artists["0"].name))]),a("td",[t._v(t._s(s.album.name))]),a("td",[t._v(t._s(s.duration))])])})),0)])])},j=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("thead",[a("th"),a("th"),a("th",[t._v("音乐标题")]),a("th",[t._v("歌手")]),a("th",[t._v("专辑")]),a("th",[t._v("时长")])])}],S={name:"songs",data(){return{lists:[],tag:"0"}},watch:{tag(){this.getList()}},created(){this.getList(),console.log("重新加载")},methods:{getList(){U()({url:"https://autumnfish.cn/top/song",method:"get",params:{type:this.tag}}).then((t=>{this.lists=t.data.data;for(let s=0;s<this.lists.length;s++){let t=this.lists[s].duration,a=parseInt(t/1e3/60);a<10&&(a="0"+a);let i=parseInt(t/1e3%60);i<10&&(i="0"+i),this.lists[s].duration=`${a}:${i}`}}))},playMusic(t){U()({url:"https://autumnfish.cn/song/url",method:"get",params:{id:t}}).then((t=>{console.log(t);let s=t.data.data[0].url;this.$parent.musicUrl=s}))}}},A=S,F=(0,u.Z)(A,Z,j,!1,null,null,null),G=F.exports,Y=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"mvs-container"},[a("div",{staticClass:"filter-wrap"},[a("div",{staticClass:"seciton-wrap"},[a("span",{staticClass:"section-type"},[t._v("地区:")]),a("ul",{staticClass:"tabs-wrap"},[a("li",{staticClass:"tab"},[a("span",{staticClass:"title",class:{active:"全部"==t.area},on:{click:function(s){t.area="全部"}}},[t._v("全部")])]),a("li",{staticClass:"tab"},[a("span",{staticClass:"title",class:{active:"内地"==t.area},on:{click:function(s){t.area="内地"}}},[t._v("内地")])]),a("li",{staticClass:"tab"},[a("span",{staticClass:"title",class:{active:"港台"==t.area},on:{click:function(s){t.area="港台"}}},[t._v("港台")])]),a("li",{staticClass:"tab"},[a("span",{staticClass:"title",class:{active:"欧美"==t.area},on:{click:function(s){t.area="欧美"}}},[t._v("欧美")])]),a("li",{staticClass:"tab"},[a("span",{staticClass:"title",class:{active:"日本"==t.area},on:{click:function(s){t.area="日本"}}},[t._v("日本")])]),a("li",{staticClass:"tab"},[a("span",{staticClass:"title",class:{active:"韩国"==t.area},on:{click:function(s){t.area="韩国"}}},[t._v("韩国")])])])]),a("div",{staticClass:"type-wrap"},[a("span",{staticClass:"type-type"},[t._v("类型:")]),a("ul",{staticClass:"tabs-wrap"},[a("li",{staticClass:"tab"},[a("span",{staticClass:"title",class:{active:"全部"==t.type},on:{click:function(s){t.type="全部"}}},[t._v("全部")])]),a("li",{staticClass:"tab"},[a("span",{staticClass:"title",class:{active:"官方版"==t.type},on:{click:function(s){t.type="官方版"}}},[t._v("官方版")])]),a("li",{staticClass:"tab"},[a("span",{staticClass:"title",class:{active:"原声"==t.type},on:{click:function(s){t.type="原声"}}},[t._v("原声")])]),a("li",{staticClass:"tab"},[a("span",{staticClass:"title",class:{active:"现场版"==t.type},on:{click:function(s){t.type="现场版"}}},[t._v("现场版")])]),a("li",{staticClass:"tab"},[a("span",{staticClass:"title",class:{active:"网易出品"==t.type},on:{click:function(s){t.type="网易出品"}}},[t._v("网易出品")])])])]),a("div",{staticClass:"order-wrap"},[a("span",{staticClass:"order-type"},[t._v("排序:")]),a("ul",{staticClass:"tabs-wrap"},[a("li",{staticClass:"tab"},[a("span",{staticClass:"title",class:{active:"上升最快"==t.order},on:{click:function(s){t.order="上升最快"}}},[t._v("上升最快")])]),a("li",{staticClass:"tab"},[a("span",{staticClass:"title",class:{active:"最热"==t.order},on:{click:function(s){t.order="最热"}}},[t._v("最热")])]),a("li",{staticClass:"tab"},[a("span",{staticClass:"title",class:{active:"最新"==t.order},on:{click:function(s){t.order="最新"}}},[t._v("最新")])])])])]),a("div",{staticClass:"mvs"},[a("div",{staticClass:"items"},t._l(t.list,(function(s,i){return a("div",{key:i,staticClass:"item",on:{click:function(a){return t.toMv(s.id)}}},[a("div",{staticClass:"img-wrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.cover,expression:"item.cover"}],attrs:{alt:""}}),a("div",{staticClass:"num-wrap"},[a("div",{staticClass:"iconfont icon-play"}),a("div",{staticClass:"num"},[t._v(t._s(s.playCount))])])]),a("div",{staticClass:"info-wrap"},[a("div",{staticClass:"name"},[t._v(t._s(s.name))]),a("div",{staticClass:"singer"},[t._v(t._s(s.artistName))])])])})),0),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":5,limit:t.limit},on:{"current-change":t.handleCurrentChange}})],1)])},B=[],H={name:"mvs",data(){return{total:20,page:1,limit:8,area:"全部",type:"全部",order:"上升最快",list:[]}},watch:{area(){this.page=1,this.getList()},type(){this.page=1,this.getList()},order(){this.page=1,this.getList()}},created(){this.getList()},methods:{getList(){U()({url:"https://autumnfish.cn/mv/all",method:"get",params:{area:this.area,type:this.type,order:this.order,limit:this.limit,offset:(this.page-1)*this.limit}}).then((t=>{this.list=t.data.data;for(let s=0;s<this.list.length;s++)this.list[s].playCount>1e5&&(this.list[s].playCount=parseInt(this.list[s].playCount/1e4+"万"));t.data.count&&(this.total=t.data.count)}))},toMv(t){this.$router.push(`/mv?q=${t}`)},handleCurrentChange(t){this.page=t,this.getList()}}},J=H,K=(0,u.Z)(J,Y,B,!1,null,null,null),Q=K.exports,W=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"result-container"},[a("div",{staticClass:"title-wrap"},[a("h2",{staticClass:"title"},[t._v(t._s(t.$route.query.q))]),a("span",{staticClass:"sub-title"},[t._v("找到"+t._s(t.count)+"个结果")])]),a("el-tabs",{model:{value:t.activeIndex,callback:function(s){t.activeIndex=s},expression:"activeIndex"}},[a("el-tab-pane",{attrs:{label:"歌曲",name:"songs"}},[a("table",{staticClass:"el-table"},[a("thead",[a("th"),a("th",[t._v("音乐标题")]),a("th",[t._v("歌手")]),a("th",[t._v("专辑")]),a("th",[t._v("时长")])]),a("tbody",t._l(t.songList,(function(s,i){return a("tr",{key:i,staticClass:"el-table__row",on:{dblclick:function(a){return t.playMusic(s.id)}}},[a("td",[t._v(t._s(i+1))]),a("td",[a("div",{staticClass:"song-wrap"},[a("div",{staticClass:"name-wrap"},[a("span",[t._v(t._s(s.name))]),0!=s.mvid?a("span",{staticClass:"iconfont icon-mv"}):t._e()]),0!=s.alias.length?a("span",[t._v(t._s(s.alias[0]))]):t._e()])]),a("td",[t._v(t._s(s.artists[0].name))]),a("td",[t._v(t._s(s.album.name))]),a("td",[t._v(t._s(s.duration))])])})),0)])]),a("el-tab-pane",{attrs:{label:"歌单",name:"lists"}},[a("div",{staticClass:"items"},t._l(t.playlists,(function(s,i){return a("div",{key:i,staticClass:"item",on:{click:function(a){return t.toPlaylist(s.id)}}},[a("div",{staticClass:"img-wrap"},[a("div",{staticClass:"num-wrap"},[t._v(" 播放量: "),a("span",{staticClass:"num"},[t._v(t._s(s.playCount))])]),a("img",{attrs:{src:s.coverImgUrl,alt:""}}),a("span",{staticClass:"iconfont icon-play"})]),a("p",{staticClass:"name"},[t._v(t._s(s.name))])])})),0)]),a("el-tab-pane",{attrs:{label:"MV",name:"mv"}},[a("div",{staticClass:"items mv"},t._l(t.mv,(function(s,i){return a("div",{key:i,staticClass:"item",on:{click:function(a){return t.toMV(s.id)}}},[a("div",{staticClass:"img-wrap"},[a("img",{attrs:{src:s.cover,alt:""}}),a("span",{staticClass:"iconfont icon-play"}),a("div",{staticClass:"num-wrap"},[a("div",{staticClass:"iconfont icon-play"}),a("div",{staticClass:"num"},[t._v(t._s(s.playCount))])]),a("span",{staticClass:"time"},[t._v(t._s(s.duration))])]),a("div",{staticClass:"info-wrap"},[a("div",{staticClass:"name"},[t._v(t._s(s.name))]),a("div",{staticClass:"singer"},[t._v(t._s(s.artistName))])])])})),0)])],1)],1)},X=[],tt={name:"result",data(){return{activeIndex:"songs",songList:[],playlists:[],mv:[],count:0}},updated(){U()({url:"https://autumnfish.cn/search",method:"get",params:{keywords:this.$route.query.q,type:1,limit:10}}).then((t=>{this.songList=t.data.result.songs;for(let s=0;s<this.songList.length;s++){let t=parseInt(this.songList[s].duration/1e3/60),a=parseInt(this.songList[s].duration/1e3%60);t<10&&(t="0"+t),a<10&&(a="0"+a),this.songList[s].duration=t+":"+a}this.count=t.data.result.songCount}))},created(){U()({url:"https://autumnfish.cn/search",method:"get",params:{keywords:this.$route.query.q,type:1,limit:10}}).then((t=>{console.log(t),this.songList=t.data.result.songs;for(let s=0;s<this.songList.length;s++){let t=parseInt(this.songList[s].duration/1e3/60),a=parseInt(this.songList[s].duration/1e3%60);t<10&&(t="0"+t),a<10&&(a="0"+a),this.songList[s].duration=t+":"+a}this.count=t.data.result.songCount}))},watch:{activeIndex(){let t=1,s=10;switch(this.activeIndex){case"songs":t=1,s=10;break;case"lists":t=1e3,s=10;break;case"mv":t=1004,s=8;break;default:break}U()({url:"https://autumnfish.cn/search",method:"get",params:{keywords:this.$route.query.q,type:t,limit:s}}).then((s=>{if(1==t){this.songList=s.data.result.songs;for(let t=0;t<this.songList.length;t++){let s=parseInt(this.songList[t].duration/1e3/60),a=parseInt(this.songList[t].duration/1e3%60);s<10&&(s="0"+s),a<10&&(a="0"+a),this.songList[t].duration=s+":"+a}this.count=s.data.result.songCount}else if(1e3==t){this.playlists=s.data.result.playlists,this.count=s.data.result.playlistCount;for(let t=0;t<this.playlists.length;t++)this.playlists[t].playCount>1e5&&(this.playlists[t].playCount=parseInt(this.playlists[t].playCount/1e4)+"万")}else{this.mv=s.data.result.mvs,this.count=s.data.result.mvCount;for(let t=0;t<this.mv.length;t++){let s=parseInt(this.mv[t].duration/1e3/60),a=parseInt(this.mv[t].duration/1e3%60);s<10&&(s="0"+s),a<10&&(a="0"+a),this.mv[t].duration=s+":"+a,this.mv[t].playCount>1e5&&(this.mv[t].playCount=parseInt(this.mv[t].playCount/1e4)+"万")}}}))}},methods:{toMV(t){this.$router.push(`/mv?q=${t}`)},toPlaylist(t){this.$router.push(`/playlist?q=${t}`)},playMusic(t){U()({url:"https://autumnfish.cn/song/url",method:"get",params:{id:t}}).then((t=>{console.log(t);let s=t.data.data[0].url;this.$parent.musicUrl=s}))}}},st=tt,at=(0,u.Z)(st,W,X,!1,null,null,null),it=at.exports,et=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"playlist-container"},[a("div",{staticClass:"top-wrap"},[a("div",{staticClass:"img-wrap"},[a("img",{attrs:{src:t.playlist.coverImgUrl,alt:""}})]),a("div",{staticClass:"info-wrap"},[a("p",{staticClass:"title"},[t._v(t._s(t.playlist.name))]),a("div",{staticClass:"author-wrap"},[a("img",{staticClass:"avatar",attrs:{src:t.playlist.creator.avatarUrl,alt:""}}),a("span",{staticClass:"name"},[t._v(t._s(t.playlist.creator.nickname))]),a("span",{staticClass:"time"},[t._v(t._s(t.createTime)+" 创建")])]),a("div",{staticClass:"tag-wrap"},[a("span",{staticClass:"title"},[t._v("标签:")]),a("ul",t._l(t.playlist.tags,(function(s,i){return a("li",{key:i},[t._v(" "+t._s(s)+" ")])})),0)]),a("div",{staticClass:"desc-wrap"},[a("span",{staticClass:"title"},[t._v("简介:")]),a("span",{staticClass:"desc"},[t._v(t._s(t.playlist.description))])])])]),a("el-tabs",{model:{value:t.activeIndex,callback:function(s){t.activeIndex=s},expression:"activeIndex"}},[a("el-tab-pane",{attrs:{label:"歌曲列表",name:"1"}},[a("table",{staticClass:"el-table playlit-table"},[a("thead",[a("th"),a("th"),a("th",[t._v("音乐标题")]),a("th",[t._v("歌手")]),a("th",[t._v("专辑")]),a("th",[t._v("时长")])]),a("tbody",t._l(t.tracks,(function(s,i){return a("tr",{key:i,staticClass:"el-table__row"},[a("td",[t._v(t._s(i+1))]),a("td",[a("div",{staticClass:"img-wrap"},[a("img",{attrs:{src:s.al.picUrl,alt:""}}),a("span",{staticClass:"iconfont icon-play",on:{click:function(a){return t.playMusic(s.id)}}})])]),a("td",[a("div",{staticClass:"song-wrap"},[a("div",{staticClass:"name-wrap"},[a("span",{domProps:{textContent:t._s(s.name)}}),a("span",{staticClass:"iconfont icon-mv"})]),a("span",[t._v(t._s(s.alia[0])+" ")])])]),a("td",[t._v(t._s(s.ar[0].name))]),a("td",[t._v(t._s(s.al.name))]),a("td",[t._v(t._s(t._f("format")(s.dt)))])])})),0)])]),a("el-tab-pane",{attrs:{label:"评论"+t.hotCount,name:"2"}},[a("div",{staticClass:"comment-wrap"},[a("p",{staticClass:"title"},[t._v(" 精彩评论"),a("span",{staticClass:"number"},[t._v("("+t._s(t.hotCount)+")")])]),a("div",{staticClass:"comments-wrap"},t._l(t.hotComment,(function(s,i){return a("div",{key:i,staticClass:"item"},[a("div",{staticClass:"icon-wrap"},[a("img",{attrs:{src:s.user.avatarUrl,alt:""}})]),a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"content"},[a("span",{staticClass:"name"},[t._v(t._s(s.user.nickname)+"：")]),a("span",{staticClass:"comment"},[t._v(t._s(s.content))])]),0!=s.beReplied.length?a("div",{staticClass:"re-content"},[a("span",{staticClass:"name"},[t._v(t._s(s.beReplied[0].user.nickname)+"：")]),a("span",{staticClass:"comment"},[t._v(" "+t._s(s.beReplied[0].content)+" ")])]):t._e(),a("div",{staticClass:"date",domProps:{textContent:t._s(t.commentTime(i))}})])])})),0)]),a("div",{staticClass:"comment-wrap"},[a("p",{staticClass:"title"},[t._v(" 最新评论"),a("span",{staticClass:"number"},[t._v("( "+t._s(t.total)+" )")])]),a("div",{staticClass:"comments-wrap"},t._l(t.comments,(function(s,i){return a("div",{key:i,staticClass:"item"},[a("div",{staticClass:"icon-wrap"},[a("img",{attrs:{src:s.user.avatarUrl,alt:""}})]),a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"content"},[a("span",{staticClass:"name"},[t._v(" "+t._s(s.user.nickname)+" ：")]),a("span",{staticClass:"comment"},[t._v(t._s(s.content))])]),0!=s.beReplied.length?a("div",{staticClass:"re-content"},[a("span",{staticClass:"name"},[t._v(t._s(s.beReplied[0].user.nickname)+"：")]),a("span",{staticClass:"comment"},[t._v(t._s(s.beReplied[0].content))])]):t._e(),a("div",{staticClass:"date",domProps:{textContent:t._s(t.commentTime1(i))}})])])})),0)]),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":5},on:{"current-change":t.handleCurrentChange}})],1)],1)],1)},nt=[],lt={name:"playlist",data(){return{activeIndex:"1",total:0,page:1,playlist:{},tracks:[],hotComment:[],hotCount:0,comments:[]}},methods:{handleCurrentChange(t){this.page=t,U()({url:"https://autumnfish.cn/comment/playlist",method:"get",params:{id:this.$route.query.q,limit:10,offset:10*(this.page-1)}}).then((t=>{this.total=t.data.total,this.comments=t.data.comments}))},getData(t){let s=new Date(t),a=s.getFullYear(),i=s.getMonth()+1,e=s.getDate();return a+"-"+(i<10?"0"+i:i)+"-"+(e<10?"0"+e:e)+" "+s.toTimeString().substr(0,8)},commentTime(t){return this.getData(this.hotComment[t].time)},commentTime1(t){return this.getData(this.comments[t].time)},playMusic(t){U()({url:"https://autumnfish.cn/song/url",method:"get",params:{id:t}}).then((t=>{console.log(t);let s=t.data.data[0].url;this.$parent.musicUrl=s}))}},filters:{format(t){let s=parseInt(t/1e3/60),a=parseInt(t/1e3%60);return s<10&&(s="0"+s),a<10&&(a="0"+a),s+":"+a}},computed:{createTime(){return this.getData(this.playlist.createTime)}},created(){U()({url:"https://autumnfish.cn/playlist/detail",method:"get",params:{id:this.$route.query.q,type:2}}).then((t=>{this.playlist=t.data.playlist,this.tracks=t.data.playlist.tracks,console.log(this.tracks)})),U()({url:"https://autumnfish.cn/comment/playlist",method:"get",params:{id:this.$route.query.q,limit:10,offset:0}}).then((t=>{this.hotComment=t.data.hotComments,this.hotCount=t.data.total})),U()({url:"https://autumnfish.cn/comment/playlist",method:"get",params:{id:this.$route.query.q,limit:10,offset:0}}).then((t=>{this.total=t.data.total,this.comments=t.data.comments}))}},ct=lt,rt=(0,u.Z)(ct,et,nt,!1,null,null,null),ot=rt.exports,ut=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"mv-container"},[a("div",{staticClass:"mv-wrap"},[a("h3",{staticClass:"title"},[t._v("mv详情")]),a("div",{staticClass:"video-wrap"},[a("video",{attrs:{controls:"",autoplay:"",src:t.url}})]),a("div",{staticClass:"info-wrap"},[a("div",{staticClass:"singer-info"},[a("div",{staticClass:"avatar-wrap"},[a("img",{attrs:{src:t.icon,alt:""}})]),a("span",{staticClass:"name"},[t._v(t._s(t.mvInfo.artistName))])]),a("div",{staticClass:"mv-info"},[a("h2",{staticClass:"title"},[t._v(t._s(t.mvInfo.name))]),a("span",{staticClass:"date"},[t._v("发布："+t._s(t.mvInfo.publishTime))]),a("span",{staticClass:"number"},[t._v("播放："+t._s(t.mvInfo.playCount)+"次")]),a("p",{staticClass:"desc"},[t._v(" "+t._s(t.mvInfo.desc)+" ")])])]),a("div",{staticClass:"comment-wrap"},[a("p",{staticClass:"title"},[t._v(" 精彩评论"),a("span",{staticClass:"number"},[t._v("("+t._s(t.hotComment.length)+")")])]),t._l(t.hotComment,(function(s,i){return a("div",{key:i,staticClass:"comments-wrap"},[a("div",{staticClass:"item"},[a("div",{staticClass:"icon-wrap"},[a("img",{attrs:{src:s.user.avatarUrl,alt:""}})]),a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"content"},[a("span",{staticClass:"name"},[t._v(t._s(s.user.nickname)+"：")]),a("span",{staticClass:"comment"},[t._v(t._s(s.content))])]),0!=s.beReplied?a("div",{staticClass:"re-content"},[a("span",{staticClass:"name"},[t._v(t._s(s.beReplied[0].user.nickname)+"：")]),a("span",{staticClass:"comment"},[t._v(t._s(s.beReplied[0].content))])]):t._e(),a("div",{staticClass:"date",domProps:{textContent:t._s(t.getData(s.time))}})])])])}))],2),a("div",{staticClass:"comment-wrap"},[a("p",{staticClass:"title"},[t._v(" 最新评论"),a("span",{staticClass:"number"},[t._v("("+t._s(t.count)+")")])]),t._l(t.comment,(function(s,i){return a("div",{key:i,staticClass:"comments-wrap"},[a("div",{staticClass:"item"},[a("div",{staticClass:"icon-wrap"},[a("img",{attrs:{src:s.user.avatarUrl,alt:""}})]),a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"content"},[a("span",{staticClass:"name"},[t._v(t._s(s.user.nickname)+"：")]),a("span",{staticClass:"comment"},[t._v(t._s(s.content))])]),0!=s.beReplied?a("div",{staticClass:"re-content"},[a("span",{staticClass:"name"},[t._v(t._s(s.beReplied[0].user.nickname)+"：")]),a("span",{staticClass:"comment"},[t._v(t._s(s.beReplied[0].content))])]):t._e(),a("div",{staticClass:"date",domProps:{textContent:t._s(t.getData(s.time))}})])])])}))],2),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":5,limit:t.limit},on:{"current-change":t.handleCurrentChange}})],1),a("div",{staticClass:"mv-recommend"},[a("h3",{staticClass:"title"},[t._v("相关推荐")]),a("div",{staticClass:"mvs"},[a("div",{staticClass:"items"},t._l(t.simiMvs,(function(s,i){return a("div",{key:i,staticClass:"item",on:{click:function(a){return t.toMV(s.id)}}},[a("div",{staticClass:"img-wrap"},[a("img",{attrs:{src:s.cover,alt:""}}),a("span",{staticClass:"iconfont icon-play"}),a("div",{staticClass:"num-wrap"},[a("div",{staticClass:"iconfont icon-play"}),a("div",{staticClass:"num"},[t._v(t._s(s.playCount))])]),a("span",{staticClass:"time"},[t._v(" "+t._s(s.duration)+" ")])]),a("div",{staticClass:"info-wrap"},[a("div",{staticClass:"name"},[t._v(t._s(s.name))]),a("div",{staticClass:"singer"},[t._v(t._s(s.artistName))])])])})),0)])])])},mt=[],pt={name:"mv",data(){return{total:20,page:1,limit:10,url:"",simiMvs:[],mvInfo:{},icon:"",hotComment:[],comment:[],count:0}},created(){this.to(),U()({url:"https://autumnfish.cn/simi/mv",method:"get",params:{mvid:this.$route.query.q}}).then((t=>{this.simiMvs=t.data.mvs})),U()({url:"https://autumnfish.cn/mv/detail",method:"get",params:{mvid:this.$route.query.q}}).then((t=>{this.mvInfo=t.data.data,U()({url:"https://autumnfish.cn/artists",method:"get",params:{id:this.mvInfo.artists[0].id}}).then((t=>{this.icon=t.data.artist.picUrl}))})),U()({url:"https://autumnfish.cn/comment/mv",method:"get",params:{id:this.$route.query.q,limit:10,offset:0}}).then((t=>{console.log(t),this.hotComment=t.data.hotComments.slice(0,5),this.comment=t.data.comments,this.count=t.data.total}))},methods:{to(){U()({url:"https://autumnfish.cn/mv/url",method:"get",params:{id:this.$route.query.q}}).then((t=>{this.url=t.data.data.url}))},toMV(t){this.$router.push(`/mv?q=${t}`),location.reload()},getData(t){let s=new Date(t),a=s.getFullYear(),i=s.getMonth()+1,e=s.getDate();return a+"-"+(i<10?"0"+i:i)+"-"+(e<10?"0"+e:e)+" "+s.toTimeString().substr(0,8)},handleCurrentChange(t){this.page=t,U()({url:"https://autumnfish.cn/comment/mv",method:"get",params:{id:this.$route.query.q,limit:10,offset:10*(this.page-1)}}).then((t=>{this.comment=t.data.comments})),console.log(`当前页: ${t}`)}}},vt=pt,dt=(0,u.Z)(vt,ut,mt,!1,null,null,null),ht=dt.exports,Ct=a(2228);i["default"].use(x()),i["default"].use($.Z),i["default"].use(Ct.Z);const _t=new $.Z({routes:[{path:"/",redirect:"/discovery"},{path:"/discovery",component:P},{path:"/playlists",component:V},{path:"/playlist",component:ot},{path:"/songs",component:G},{path:"/mvs",component:Q},{path:"/mv",component:ht},{path:"/result",component:it}]});i["default"].config.productionTip=!1,new i["default"]({render:t=>t(w),router:_t}).$mount("#app")}},s={};function a(i){var e=s[i];if(void 0!==e)return e.exports;var n=s[i]={exports:{}};return t[i](n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(s,i,e,n){if(!i){var l=1/0;for(u=0;u<t.length;u++){i=t[u][0],e=t[u][1],n=t[u][2];for(var c=!0,r=0;r<i.length;r++)(!1&n||l>=n)&&Object.keys(a.O).every((function(t){return a.O[t](i[r])}))?i.splice(r--,1):(c=!1,n<l&&(l=n));if(c){t.splice(u--,1);var o=e();void 0!==o&&(s=o)}}return s}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[i,e,n]}}(),function(){a.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(s,{a:s}),s}}(),function(){a.d=function(t,s){for(var i in s)a.o(s,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(s){return 0===t[s]};var s=function(s,i){var e,n,l=i[0],c=i[1],r=i[2],o=0;if(l.some((function(s){return 0!==t[s]}))){for(e in c)a.o(c,e)&&(a.m[e]=c[e]);if(r)var u=r(a)}for(s&&s(i);o<l.length;o++)n=l[o],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(u)},i=self["webpackChunkplayer"]=self["webpackChunkplayer"]||[];i.forEach(s.bind(null,0)),i.push=s.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(4984)}));i=a.O(i)})();
//# sourceMappingURL=app.bd93fc17.js.map